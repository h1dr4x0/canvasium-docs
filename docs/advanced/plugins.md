# Plugin System (Not available for public yet)

Canvasium is built to be extensible. You can hook into its parsing, rendering, and interpolation systems using custom plugins.

---

## What Can Plugins Do?

Plugins allow you to:

- Add new custom components
- Modify or inject AST nodes
- Intercept and transform data binding
- Wrap or override rendering logic

---

## Plugin Structure

A plugin is simply a function or object that hooks into one or more steps:

```ts
export interface CanvasiumPlugin {
  name: string;
  onParse?: (ast: Node[]) => void;
  onRenderNode?: (node: Node) => void;
  onInterpolate?: (node: Node, data: Record<string, any>) => void;
}
```

---

## Registering a Plugin

Canvasium can accept a list of plugins (if your setup supports it):

```ts
import { render } from "canvasium";
import { MyPlugin } from "./my-plugin";

await render(markup, data, {
  plugins: [MyPlugin],
});
```

> ðŸ’¡ You can also bake plugin logic into your custom rendering pipeline.

---

## Plugin Example: Auto Inject a Footer

```ts
export const FooterPlugin = {
  name: "footer-injector",
  onParse(ast) {
    const footer = {
      type: "text",
      attributes: {
        x: "20",
        y: "360",
        font: "12px sans-serif",
        color: "#aaa",
      },
      value: "Generated by Canvasium",
      children: [],
    };

    const body = ast.find((n) => n.type === "body");
    body?.children?.push(footer);
  },
};
```

---

## Plugin Example: Interpolation Hook

```ts
export const UppercasePlugin = {
  name: "uppercase-vars",
  onInterpolate(node, data) {
    if (node.value) {
      node.value = node.value.toUpperCase();
    }
  },
};
```

---

## When to Use Plugins

- Want global logic that affects every image
- Need to inject branding, watermark, or tracking
- Need to preprocess certain tags or transform values

---

Plugins give you full control over the rendering pipeline â€” ideal for advanced use cases and automation pipelines.
